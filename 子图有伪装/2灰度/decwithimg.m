function [ C1,C2 ] = decwithimg( bw,bw1,bw2 )
% 实现分解黑白二值图为两张有意义子图

for i = 1:256
    for j = 1:256
        if bw(i,j) == 0
            if bw1(i,j) == 0 && bw2(i,j) == 0
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end  
            elseif bw1(i,j) == 1 && bw2(i,j) == 0
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
            elseif bw1(i,j) == 0 && bw2(i,j) == 1
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 1;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
            else
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 1;
                end
            end
        else
            if bw1(i,j) == 0 && bw2(i,j) == 0
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
            elseif bw1(i,j) == 1 && bw2(i,j) == 0
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
            elseif bw1(i,j) == 0 && bw2(i,j) == 1
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
            else
                suijishu = randi([0 3]);
                if(suijishu==0)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 0;C1(2*i-1,2*j) = 1;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 0;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
                if(suijishu==1)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 1;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 0;
                end
                if(suijishu==2)
                    C1(2*i-1,2*j-1) = 0;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 1;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 0;C2(2*i,2*j) = 1;
                end
                if(suijishu==3)
                    C1(2*i-1,2*j-1) = 1;C1(2*i,2*j-1) = 1;C1(2*i-1,2*j) = 0;C1(2*i,2*j) = 0;
                    C2(2*i-1,2*j-1) = 1;C2(2*i,2*j-1) = 0;C2(2*i-1,2*j) = 1;C2(2*i,2*j) = 0;
                end
            end
        end
    end
end

end

